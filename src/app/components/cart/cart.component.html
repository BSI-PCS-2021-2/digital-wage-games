<div class="main">
    <div class="title">
        <h2>Seu Carrinho</h2>
    </div>
    <div class="grid">
        <div class="lista-produto">
          <h2 *ngIf="cartProducts.size == 0">- Não há itens no seu carrinho -</h2>
            <div class="produto" *ngFor="let product of cartProducts | keyvalue">
                <button class="btn-close" mat-button (click)="deleteCartItem(product.value.cartItemId)">
                    <mat-icon class="close" matSuffix>close</mat-icon>
                </button>
                <img class="product-img" mat-card-image src="assets/images/{{getGameCover(product.value.id)}}">
                <div class="descricao-nome">
                    <h2>{{product.value.name}}</h2>
                    <div class="description_container">
                        <div class="descricao">
                            <p>{{product.value.description}}</p>
                        </div>
                        <div class="product_price_container">
                            <p class="price"><span>{{ product.value.formatPrice }}</span></p>
                        </div>
                        <div class="total_price_container">
                            <p><span id="price_{{ product.key }}">{{ product.value.formatTotalPrice }}</span></p>
                        </div>
                        <div class="add-dec">

                            <button class="decrement" (click)="decreaseAmount(product.key)">
                                <mat-icon matSuffix>remove</mat-icon>
                            </button>
                            <div class="quantity">
                                <input type="text" class="amount_input" id="amount_input_{{ product.key }}" (keyup.enter)="updateInput(product.key, $event)" value={{product.value.amount}}>
                            </div>
                            <button class="add" (click)="increaseAmount(product.key)">
                                <mat-icon matSuffix>add</mat-icon>
                            </button>

                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="actions-cart">
            <button class="limpar" mat-button (click)="clearCart()">Limpar Carrinho</button>
            <button class="continuar" routerLink="/catalogo" mat-button>Continuar Comprando</button>
            <button class="finalizar" mat-button>Finalizar pedido</button>
        </div>
        <div class="final_price_container" >
            <h2>Subtotal: <span id="final_price">{{ formatFinalPrice }}</span> </h2>
        </div>
    </div>
</div>
